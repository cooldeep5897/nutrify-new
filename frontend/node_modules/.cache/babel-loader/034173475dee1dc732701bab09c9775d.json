{"ast":null,"code":"import _regeneratorRuntime from\"D:/AddSkill/react-and-node-apps/Nutrify/nutrify-new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/AddSkill/react-and-node-apps/Nutrify/nutrify-new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/AddSkill/react-and-node-apps/Nutrify/nutrify-new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/AddSkill/react-and-node-apps/Nutrify/nutrify-new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/AddSkill/react-and-node-apps/Nutrify/nutrify-new/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateMeals=function CreateMeals(){var history=useHistory();var _useState=useState({mealname:\"\",calories:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var handelInput=function handelInput(e){var name=e.target.name;var value=e.target.value;console.log(name,value);setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var PostData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var today,dd,mm,yyyy,mealname,calories,res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();today=new Date();dd=String(today.getDate()).padStart(2,'0');mm=String(today.getMonth()+1).padStart(2,'0');yyyy=today.getFullYear();today=yyyy+'-'+mm+'-'+dd;mealname=user.mealname,calories=user.calories;_context.next=9;return fetch('/todos/createMeal',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({mealname:mealname,mealid:1,calories:calories,date:today})});case 9:res=_context.sent;_context.next=12;return res.json();case 12:data=_context.sent;if(data.error){alert(data.message);}else{console.log(\"meal added\");// history.push('/home');\n}case 14:case\"end\":return _context.stop();}}},_callee);}));return function PostData(_x){return _ref.apply(this,arguments);};}();// const PostData= async (e)=>{\n//     var today = new Date();\n//         var dd = String(today.getDate()).padStart(2, '0');\n//         var mm = String(today.getMonth() + 1).padStart(2, '0');\n//         var yyyy = today.getFullYear();\n//         today =  yyyy+ '-' + mm + '-' + dd ;\n// const res=await fetch('/todos/fetchmeal',{\n//     method:\"POST\",\n//     headers:{\n//         \"Content-Type\":\"application/json\"\n//     },\n//     body:JSON.stringify({\n//         date:today\n//     })\n// });\n// const data=await res.json();\n// if (data.error) {\n//     alert(data.success);\n// } else {\n//     console.log(\"in home mealsfetched\");\n//     console.log(data.meals);\n//     // history.push('/home');\n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"user\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"user__header\",children:[\" \",/*#__PURE__*/_jsx(\"h1\",{class:\"user__title\",children:\"***** Add meal *****\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",action:\"\",onSubmit:PostData,children:[/*#__PURE__*/_jsx(\"div\",{class:\"form__group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form__input\",placeholder:\"mealname\",type:\"text\",autoComplete:\"off\",name:\"mealname\",value:user.mealname,onChange:handelInput})}),/*#__PURE__*/_jsx(\"div\",{class:\"form__group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form__input\",placeholder:\"calories\",type:\"number\",autoComplete:\"off\",name:\"calories\",value:user.calories,onChange:handelInput})}),/*#__PURE__*/_jsx(\"button\",{class:\"btn\",type:\"submit\",children:\"ADD MEAL\"})]})]});};export default CreateMeals;","map":{"version":3,"sources":["D:/AddSkill/react-and-node-apps/Nutrify/nutrify-new/frontend/src/components/forms/createMeal.js"],"names":["React","useState","useHistory","CreateMeals","history","mealname","calories","user","setUser","handelInput","e","name","target","value","console","log","PostData","preventDefault","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","fetch","method","headers","body","JSON","stringify","mealid","date","res","json","data","error","alert","message"],"mappings":"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","sourcesContent":["    import React,{ useState } from \"react\";\r\n    import { useHistory } from 'react-router';\r\n\r\nconst CreateMeals=()=>{\r\n    \r\n        const history=useHistory();\r\n        const [user,setUser]= useState({\r\n            mealname:\"\",\r\n            calories:\"\"\r\n        });\r\n    \r\n    \r\n    const handelInput =(e)=>{\r\n        const name=e.target.name;\r\n        const value=e.target.value;\r\n        console.log(name,value);\r\n    \r\n        setUser({...user,[name]:value});\r\n    \r\n    }\r\n    \r\n        const PostData= async (e)=>{\r\n            e.preventDefault();\r\n            var today = new Date();\r\n            var dd = String(today.getDate()).padStart(2, '0');\r\n            var mm = String(today.getMonth() + 1).padStart(2, '0');\r\n            var yyyy = today.getFullYear();\r\n\r\n            today =  yyyy+ '-' + mm + '-' + dd ;\r\n        const {mealname, calories }=user;\r\n    \r\n        const res=await fetch('/todos/createMeal',{\r\n            method:\"POST\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                mealname,mealid:1, calories, date:today\r\n            })\r\n        });\r\n\r\n        const data=await res.json();\r\n        if (data.error) {\r\n            alert(data.message);\r\n        } else {\r\n            console.log(\"meal added\");\r\n            // history.push('/home');\r\n        }\r\n        \r\n    }  \r\n\r\n    // const PostData= async (e)=>{\r\n        \r\n    //     var today = new Date();\r\n    //         var dd = String(today.getDate()).padStart(2, '0');\r\n    //         var mm = String(today.getMonth() + 1).padStart(2, '0');\r\n    //         var yyyy = today.getFullYear();\r\n\r\n    //         today =  yyyy+ '-' + mm + '-' + dd ;\r\n        \r\n    // const res=await fetch('/todos/fetchmeal',{\r\n    //     method:\"POST\",\r\n    //     headers:{\r\n    //         \"Content-Type\":\"application/json\"\r\n    //     },\r\n    //     body:JSON.stringify({\r\n    //         date:today\r\n    //     })\r\n    // });\r\n\r\n    // const data=await res.json();\r\n    // if (data.error) {\r\n    //     alert(data.success);\r\n    // } else {\r\n    //     console.log(\"in home mealsfetched\");\r\n    //     console.log(data.meals);\r\n    //     // history.push('/home');\r\n    // }\r\n\r\n\r\nreturn(\r\n    <div  className=\"user\">\r\n         <header className=\"user__header\"> <h1 class=\"user__title\">***** Add meal *****</h1></header>\r\n        <form className=\"form\" action=\"\" onSubmit={PostData}>\r\n        <div class=\"form__group\">\r\n        <input className='form__input' placeholder=\"mealname\" type=\"text\" autoComplete=\"off\" name=\"mealname\"\r\n        value={user.mealname}\r\n        onChange={handelInput}\r\n        /></div>\r\n       <div class=\"form__group\">\r\n        <input className='form__input' placeholder=\"calories\" type=\"number\" autoComplete=\"off\"  name=\"calories\"\r\n        value={user.calories}\r\n        onChange={handelInput}\r\n        /></div>\r\n        <button class=\"btn\" type=\"submit\">ADD MEAL</button>\r\n    </form>\r\n    </div>\r\n)\r\n\r\n}\r\nexport default CreateMeals;"]},"metadata":{},"sourceType":"module"}